<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">

    <title>Demurrage Calculator</title>

    <link rel="stylesheet" type="text/css" href="demudemo.css" />
    
    
</head>
<body>
    <h1>Ripple Demurrage Calculator (demo)</h1>
    <div id="demudemo_1" class="demudemo">
    <p class="explanation intro">The Ripple Network supports currency definitions that have interest or demurrage built into the currency. This page demonstrates the use of <a href="https://github.com/ripple/ripple-lib">ripple-lib</a> to perform necessary operations on these currencies, including:</p>
    <ul>
        <li>Convert between human-readable currency definitions like &quot;XAU (-0.5%pa)&quot; to the 160-bit hex codes used within the Ripple Network.</li>
        <li>Convert between the <strong>ledger value</strong> written to the network and the <strong>display value</strong> that represents the actual worth of that ledger value at a particular point in time.</li>
    </ul>
    <form>
    
    <section class="currencydef">
        <span class="cur">
            <label for="cur_1">Currency:</label>
            <input id="cur_1" type="text" size="3" value="XAU" />
        </span><!-- .cur -->
        <span class="rate">
            <label for="rate_1">Rate:</label>
            <input id="rate_1" type="text" size="5" value="-0.5" />
            <label for="rate_1" class="pa"><abbr title="For purposes of interest in Ripple, one 'year' is defined as 31536000 seconds, which is 365 days with no leap time.">% per annum </abbr></label>
        </span><!-- .rate -->
        <span class="equals"> = </span>
        <span class="hexcode">Currency code:
            <input id="hex_1" type="text" size="40" value="015841551A748AD2C1F76FF6ECB0CCCD00000000" />
        </span><!-- hexcode -->
    </section><!-- .currencydef -->
    
    <section class="ledger_val">
        <label for="ledger_val_1"><abbr title="This is the value that gets written to rippled's ledger.">Ledger value:</abbr></label>
        <input id="ledger_val_1" type="number" size="15" value="100" step="any" />
        <label id="ledger_cur_1">XAU (-0.5%pa)</label>
    </section><!-- .ledger_val -->
    
    <section class="convert_buttons">
        <input id="to_ledger" type="button" value="Calc ledger value ⬆" />
        <input id="to_display" type="button" value="Calc display value ⬇" />
    </section><!-- .convert_buttons -->
    
    <section class="display_val">
        <label for="display_val_1"><abbr title="This is how much the amount is actually worth at the specified time.">Display value:</abbr></label>
        <input id="display_val_1" type="number" size="20" step="any">
        
        <label for="display_datetime_1">At time:</label>
        <input id="display_datetime_1" type="datetime" size="24" />
        <input id="time_to_now_1" type="button" value="Set to now" />
    </section><!-- .display_val -->
    
    </form>
    <div class="explanation more">
        <h3>Further Explanation</h3>
        <p><strong>Display values</strong> show the actual worth of a currency amount <em>at a given point in time</em>. Since interest applies continually, the worth of the currency holdings are only meaningful when they come with a reference time.</p>
        <p><strong>Ledger values</strong> are written in <a href="https://ripple.com/build/rippled-apis/"><code>rippled</code></a>'s shared global ledger. As an optimization, these do not change to reflect demurrage or interest. Instead, client applications calculate the ledger amount as the theoretical value that equals the desired display amount after applying constant interest/demurrage since the Ripple Epoch. (This also removes the need to indicate a start point for demurrage.)</p>
    </div>
    
    </div><!--/#demudemo_1-->

    <!------------------- JavaScripts --------------->
    <!-- jQuery + plugins -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    
    <!-- ripple-lib -->
    <script src="ripple-0.11.0-min.js" type="text/javascript"></script>
    
    <!-- original js -->
    <script src="demudemo.js" type="text/javascript"></script>
</body>
</html>
